<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>注册表单</title>
    <link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.min.css">
</head>
<style>
    .wrapper {
        width: 200px;
        margin: 30px auto;
    }
    
    input.error {
        border: 1px solid #a10;
    }
    
    .error {
        color: #a10;
    }
</style>

<body ng-app="myApp">
    <!--<div class="wrapper">
        <h2>注册表单</h2>
        <form name="signUpForm">
            <div class="form-group">
                <label>用户名：</label>
                <pre>合法：{{signUpForm.username.$valid}}</pre>
                <pre>{{userData.name}}</pre>
                <input name="username" type="text" class="form-control" ng-model="userData.name" ng-minlength="4" ng-maxlength="32" required>
                <p class="error" ng-if="(signUpForm.username.$error.minlength || signUpForm.username.$error.maxlength) && signUpForm.username.$touched">用户名长度应该在4到32位之间 </p>
                <p class="error" ng-if="signUpForm.username.$error.required && signUpForm.username.$touched">用户名不能为空 </p>
            </div>
            <div class="form-group">
                <label>密码：</label>
                <input name="password" type="password" class="form-control" ng-model="userData.password" ng-minlength="6" ng-maxlength="32" required>
                <p class="error" ng-if="signUpForm.password.$error.required && signUpForm.password.$touched">密码不可为空 </p>
                <p class="error" ng-if="(signUpForm.password.$error.minlength || signUpForm.password.$error.maxlength) && signUpForm.password.$touched">密码需要在6~32位之间 </p>
            </div>
            <div class="form-group">
                <label>重新输入密码：</label>
                <input name="password2" type="password" class="form-control" ng-model="userData.password2">
                <div class="error">ffllkl </div>
            </div>
            <div class="form-group">
                <button class="btn btn-primary" ng-model="submitFunc()">注册</button>
            </div>
        </form>
    </div>-->
    <div class="wrapper">
        <form ng-submit="formSign()" name="formSub" novalidate ng-controller="formCtrl" class="formSign">
            <div class="form-group">
                <label>用户名：</label>
                <input type="text" name="user" id="user" placeholder="输入手机号码" required ng-model="formDate.user" ng-class="{'error':formSub.user.$invalid && formSub.user.$dirty}" ng-pattern="/^(13[0-9]|14[5|7]|15[\d]|18[\d])\d{8}$/" class="form-control" />
                <p ng-if="formSub.user.$error.pattern && formSub.user.$dirty">输入11位电话号码</p>
                <p ng-if="formSub.user.$error.required && formSub.user.$dirty">手机号码不能为空</p>
            </div>
            <div class="form-group">
                <label>密码：</label>
                <input type="text" name="password" id="password" placeholder="输入密码 4-16位" required ng-model="formDate.password" ng-class="{'error':formSub.password.$invalid && formSub.password.$dirty}" ng-minlength="4" ng-maxlength="16" class="form-control" />
                <p ng-if="formSub.password.$error.required && formSub.password.$dirty">密码不能为空</p>
                <p ng-if="(formSub.password.$error.minlength || formSub.password.$error.maxlength) && formSub.password.$dirty">输入4到16位密码</p>
            </div>
            <div class="form-group">
                <label>确认密码：</label>
                <input type="text" name="password2" id="password2" placeholder="确认密码" required ng-model="formDate.password2" ng-class="{'error':formSub.password2.$invalid && formSub.password2.$dirty}" ng-minlength="4" ng-maxlength="16" class="form-control" />
                <p ng-if="formSub.password2.$error.required && formSub.password2.$dirty">密码不能为空</p>
                <p ng-show="(formDate.password != formDate.password2) && formSub.password2.$dirty">两次输入不一致</p>
            </div>
            <button class="btn btn-primary" ng-disabled="(formDate.password != formDate.password2) ||formSub.$invalid">提交</button>
        </form>
    </div>
    <script src="angular-1.5.10/angular.min.js"></script>
    <script type="text/javascript">
        angular.module('myApp', [])
            .controller('formCtrl', function($scope) {
                $scope.formData = {};
                $scope.formSign = function() {
                    console.log($scope.formDate);
                    if ($scope.formSub.$invalid) {
                        alert('信息有误')
                    } else {
                        alert('提交完成')
                    }
                }
            })
    </script>


    <script src="js/register.js"></script>
</body>

</html>